{{ import "./components/image.jet.html" }}

{{ block searchResults() }}
	{{ range . }}
		<li
			_="
		 set element data to { src: '{{ .Url }}', title: `{{ .Author }}`, caption: `{{ .Title }}` }
		 on click
			 send chartImages(src: data.src, title: data.title, caption: data.caption) to #chart
			 toggle between .hidden and .block on <footer/>
			 toggle between .hidden and .grid on #search-mobile
		 on dragstart
		     call event.dataTransfer.setData('text/plain', data as JSON)
			 set $draggingFromResults to true
		 on dragend
		     set $draggingFromResults to false"
			class="search-result"
			draggable="true"
		>
			{{ yield image(url=.Url, title=.Author, caption=.Title, behavior="ReplaceImage") }}
		</li>
	{{ end }}
{{ end }}
